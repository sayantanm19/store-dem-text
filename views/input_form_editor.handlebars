<div class="row">
    
    {{#if errors}}
        {{#each errors}}
        <div class="card-panel red">
            <div class="col s12">
                <div class="white-text">{{this.msg}}</div>
            </div>
        </div>
        {{/each}}
    {{/if}}

    <form method="POST" class="col s12 z-depth-0" id="pasteform">

        <h4>Submit a Paste here</h4>

            <div class="row">
                <div class="col s12">
                    <i class="material-icons prefix">mode_edit</i>
                </div>
                <div class="input-field col s12">
                    <textarea id="pasteinput" type="text" name="paste"></textarea>
                    {{!-- <label for="pastex">Paste here</label> --}}
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12">
                    <h5>Enter a Title</h5>
                </div>

                <div class="input-field col s9">
                    <i class="material-icons prefix">collections_bookmark</i>
                    <input value="Untitled" id="titleinput" type="text" name="title" class="validate" required="" aria-required="true">
                    {{!-- <label class="active" for="idinput">Enter title (optional)</label> --}}
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12">
                    <h5>Enter an ID to be mapped to</h5>
                </div>
                <div class="input-field col s9">
                    <i class="material-icons prefix">account_circle</i>
                    <input value={{shortid}} id="idinput" type="text" name="idx" class="validate" required="" aria-required="true">
                    <!--label class="active" for="idinput">Enter your link</label-->
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12">
                    <h5>Enter Timeout</h5>
                </div>
                <div class="input-field col s9">
                    <i class="material-icons prefix">access_time</i>
                    <input value="10" id="ttlinput" type="number" name="ttl" class="validate" required="" aria-required="true" min="0" oninput="this.value = Math.abs(this.value)">
                    <p class="grey-text text-lighten-1">In Minutes</p>
                    {{!-- <label class="active" for="idinput">In Minutes</label> --}}
                </div>
            </div>

            <div class="row">
                <div class="col s8 offset-s8">
                    <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                    <i class="material-icons right">send</i>
                    </button>
                </div>
            </div>  
    </form>
</div>


<script src="codemirror/lib/codemirror.js"></script>
<script src="codemirror/mode/javascript/javascript.js"></script>

<!-- Initizalize CodeMirror Editor -->
<script>
    var minLines = 5;
    var startingValue = '';
    for (var i = 1; i < minLines; i++) {
        startingValue += '\n';
    }
    var editor = CodeMirror.fromTextArea(document.getElementById("pasteinput"), {
        mode: 'javascript',
        //theme: 'base16-light',
        lineNumbers: true,
        gutter: true,
        lineWrapping: true,
        viewportMargin: Infinity,
        value: startingValue
    });
    editor.setValue(startingValue);

</script>